(self.webpackChunk_loomhq_web_client=self.webpackChunk_loomhq_web_client||[]).push([[2792],{43967:function(e,t,r){"use strict";r.d(t,{U:function(){return i}});var n=r(81149),a=r(43053);function i(e){return a.createElement("svg",(0,n.i)({viewBox:"0 0 24 24",fill:"none"},e),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.707 5.293a1 1 0 010 1.414l-11 11a1 1 0 01-1.414 0l-5-5a1 1 0 111.414-1.414L9 15.586 19.293 5.293a1 1 0 011.414 0z",fill:"currentColor"}))}},11433:function(e,t,r){"use strict";r.d(t,{T:function(){return i}});var n=r(81149),a=r(43053);function i(e){return a.createElement("svg",(0,n.i)({viewBox:"0 0 24 24",fill:"none"},e),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.444 7a1 1 0 011-1H20a1 1 0 110 2H8.444a1 1 0 01-1-1zM7.444 12.333a1 1 0 011-1H20a1 1 0 110 2H8.444a1 1 0 01-1-1zM7.444 17.667a1 1 0 011-1H20a1 1 0 110 2H8.444a1 1 0 01-1-1zM3 7a1 1 0 011-1h.01a1 1 0 010 2H4a1 1 0 01-1-1zM3 12.333a1 1 0 011-1h.01a1 1 0 110 2H4a1 1 0 01-1-1zM3 17.667a1 1 0 011-1h.01a1 1 0 110 2H4a1 1 0 01-1-1z",fill:"currentColor"}))}},91353:function(e,t,r){"use strict";r.d(t,{As:function(){return m},B1:function(){return T},C5:function(){return i},DL:function(){return y},H4:function(){return o},QN:function(){return w},WP:function(){return g},bp:function(){return c},cG:function(){return E},eF:function(){return h},ev:function(){return l},gl:function(){return k},js:function(){return s},m9:function(){return f},mN:function(){return u},mS:function(){return b},pF:function(){return n},pt:function(){return v},wS:function(){return a},x1:function(){return S},xB:function(){return p},xN:function(){return d},zL:function(){return _}});let n="complete_onboarding",a="customize_video_name",i="filled_account_settings",o="first_cam_recording",l="first_video_recording",s="first_video_upload",c="first_video_viewed",u="followed_us_on_twitter",d="liked_us_on_facebook",m="push_notification_enabled",p="shared_first_video_on_facebook",f="tweeted_first_video",g="has_viewed_videos",v="has_viewed_screenshots",h="has_reached_recording_limit",_="email_verified",E="create_account",y="download_recorder",S="share_video",k="add_teammate",b="meeting_recording",T=14,w=[n,a,i,o,l,s,u,d,p,f,c,m,g,v,h,E,y,S,k,_,b]},50497:function(e,t,r){"use strict";r.d(t,{Rn:function(){return a},hZ:function(){return o},km:function(){return i}});var n=r(81441);let a="Update Transcript Denied",i="Update Transcript Denied",o="No screenshots match your search",l=class e extends Error{constructor(t,r,...n){super(...n),Error.captureStackTrace&&Error.captureStackTrace(this,e),this.name="ClipUpdateError",this.reason=t,this.message=r}};(0,n.ov)(l,"REASONS",{CLIPS_NOT_ACCEPTED:"CLIPS_NOT_ACCEPTED",NO_CLIPS:"NO_CLIPS",DUPLICATE_ENTRIES:"DUPLICATE_ENTRIES",BAD_POSITION:"BAD_POSITION",UNMATCHED_CLIP:"UNMATCHED_CLIP",OVER_DURATION:"OVER_DURATION"})},52353:function(e,t,r){"use strict";r.d(t,{e:function(){return i}});var n,a=((n=a||{}).SPACE_POSTED="SPACE_POSTED",n.WORKSPACE_TAG="WORKSPACE_TAG",n.WORKSPACE_PUBLISHED="WORKSPACE_PUBLISHED",n.USER_OWNED_VIDEOS="USER_OWNED_VIDEOS",n.USER_ARCHIVED_VIDEOS="USER_ARCHIVED_VIDEOS",n.USER_SHARED_WITH_ME_VIDEOS="USER_SHARED_WITH_ME_VIDEOS",n.USER_PROFILE_VIDEOS="USER_PROFILE_VIDEOS",n.COMMUNITY_VIDEOS="COMMUNITY_VIDEOS",n.FOLDER="FOLDER",n.USER_COMMUNITY_VIDEOS="USER_COMMUNITY_VIDEOS",n.COMMUNITY_PROFILE_VIDEOS="COMMUNITY_PROFILE_VIDEOS",n.USER_WATCH_LATER="USER_WATCH_LATER",n.VIDEO_PERSONALIZATION="VIDEO_PERSONALIZATION",n.VIDEO_PERSONALIZATION_WITH_AUDIO="VIDEO_PERSONALIZATION_WITH_AUDIO",n.MEETING_RECORDING="MEETING_RECORDING",n);let i=["USER_WATCH_LATER"]},64369:function(e,t,r){"use strict";r.d(t,{WS:function(){return a},dj:function(){return i},x2:function(){return o}});var n=r(39419);let a=e=>({type:n.KZ,welcomeState:e}),i=e=>({type:n.r3,useCasePlan:e}),o=e=>({type:n.ey,role:e})},93713:function(e,t){"use strict";t.Z=e=>()=>{let t;return e.configureScope(e=>{e.addEventProcessor(e=>(e.extra={...e.extra,previousAction:t},e))}),r=>n=>(e.addBreadcrumb({message:n.type,category:"redux-action"}),t=n,r(n))}},18027:function(e,t,r){"use strict";r.d(t,{W:function(){return I}});var n=r(5736),a=r(28007),i=r(36564),o=r(62259),l=r(13348),s=r(39419),c=r(30746);let u={availableFtux:[],visibleFtux:[],spacesOnboarding:{highlightCreateSpaceButton:!1,highlightActiveSpace:!1}};var d=(e=u,t)=>{let{type:r,value:n}=t;switch(r){case s.UA:return{...e,availableFtux:n};case s.sG:{let t=[...e.visibleFtux,n],r=[],a=[];if(t.forEach(e=>{0===e.priority?r.push(e):a.push(e)}),r.length>=c.sF)return{...e,visibleFtux:r};for(;r.length<c.sF&&a.length>0;)r.push(a.pop());return{...e,visibleFtux:r}}case s.O5:{let t=e.visibleFtux.filter(e=>e.name!==n);return{...e,visibleFtux:t}}case s.bm:return{...e,spacesOnboarding:{...e.spacesOnboarding,highlightCreateSpaceButton:n}};case s.B6:return{...e,spacesOnboarding:{...e.spacesOnboarding,highlightActiveSpace:n}};default:return e}},m=r(49213);let p={email_error:null,is_fetching:!1,new_oauth:!1,password_error:null,plain_error:null};var f=(e=p,t)=>{switch(t.type){case s.z9:return{...e,email_error:t.err};case s.Q5:return{...e,is_fetching:t.isFetching};case s.x9:return{...e,password_error:t.err};case s.TY:return{...e,plain_error:t.err};case s.QV:return{...e,new_oauth:t.newOauth};default:return e}},g=r(80512),v=r(96905),h=r(62085),_=r(93650),E=r(66009);let y={is_fetching:!1,viewerNeedsPermission:!1,from_public_share_page:!1,duration:0,durationMs:0,transcriptVisible:!1,videoReadyToPlayOnSharePage:!1,emojiClickedInVideoPlayer:!1,captionsDetails:{captionsUrl:null,captionsSourceUrl:null},transcriptStatus:null};var S=(e=y,t)=>{let r=e;switch(t.type){case s.l9:r={...e,is_fetching:!0,videoReadyToPlayOnSharePage:!1};break;case s.Kq:r={...e,from_public_share_page:t.fromPublicSharePage};break;case s.r5:r={...e,viewerNeedsPermission:t.viewerNeedsPermission};break;case s.oQ:r={...e,is_fetching:!1,videoReadyToPlayOnSharePage:!0};break;case s.El:r={...e,is_fetching:!1};break;case s.HB:r={...e,transcriptVisible:t.transcriptVisible};break;case s.EE:r={...e,transcriptStatus:t.transcriptStatus};break;case s.Ky:r={...e,videoReadyToPlayOnSharePage:!0};break;case s.NQ:r={...e,emojiClickedInVideoPlayer:t.emojiClickedInVideoPlayer};break;case s.S$:r={...e,captionsDetails:t.captionsDetails};break;default:r=e}return r};let k={company:null,company_size:null,complete:!1,custom_role:null,other_intent_case_explanation:null,role:null,sharing_intent_case:null,use_case_plan_persona:null,use_case_plan:null};var b=(e=k,t)=>{switch(t.type){case s.KZ:return{...e,company:t.welcomeState.company,company_size:t.welcomeState.company_size,complete:t.welcomeState.complete,custom_role:t.welcomeState.custom_role,other_intent_case_explanation:t.welcomeState.other_intent_case_explanation,role:t.welcomeState.role,sharing_intent_case:t.welcomeState.sharing_intent_case,use_case_plan:t.welcomeState.use_case_plan,use_case_plan_persona:t.welcomeState.use_case_plan_persona};case s.ey:return{...e,role:t.role};case s.r3:return{...e,use_case_plan:t.useCasePlan};default:return e}},T=r(27584);let w={workspaces:[],isFetching:!0,showInviteLinkBillingWarning:!1};var C=(e=w,t)=>{let r=e;switch(t.type){case s.mm:r={...e,workspaces:t.workspaces||[],isFetching:!1};break;case s.qp:r={...e,workspaces:e.workspaces.map(e=>e.id!==t.workspace.id?{...e}:{...e,...t.workspace})};break;case s.kg:r={...e,workspaces:e.workspaces.map(e=>e.id!==t.id?e:{...e,counts:{...e.counts,unseenNotifications:t.count}})};break;default:r=e}return r.selectedWorkspace=r?.workspaces?.find(e=>e.isSelected),!r.selectedWorkspace&&r.workspaces[0]&&(0,T.xo)(r.workspaces[0].id,void 0,!1),r};let I=()=>(0,n.UY)({avatar:a.ZP,checklist:i.ZP,editor:o.ZP,feature_flags:l.ZP,ftux:d,invites:m.Z,login:f,modals:g.ZP,reset_password:v.Z,share_video:h.ZP,splitScreenTakeovers:_.ZP,transcription:E.ZP,video_player:S,welcome:b,workspace:C})},62085:function(e,t,r){"use strict";r.d(t,{Mx:function(){return l},SO:function(){return o}});var n=r(39419),a=r(75114);let i={isTranscriptSearchOpen:!1,transcriptSearchPhrase:"",transcriptSearchInputValue:"",transcriptSearchPhraseIndexArray:[],currentSearchIndex:0},o="view",l="correction",s={autoChaptersCount:null,autoChaptersStatus:null,autoSummary:null,autoSummaryStatus:null,autoTasksCount:null,autoTasksStatus:null,autoTitle:null,autoTitleStatus:null,cta_approved_at:null,cta_enabled:!1,cta_is_auto:!1,cta_modal_show:!1,cta_mods:null,cta_text:null,cta_url:null,current_user_is_owner:!1,currentRightPanelTab:null,download_url:null,expandRightPanel:!1,fromRecorder:!1,hasBeenEdited:!1,hasSeenAnonShareGateModal:!1,retranscription_status:a.m.NOT_STARTED,transcript:null,transcript_details:{},transcriptPanelMode:o,transcriptSearch:{...i},userClickedNavToggle:!1};t.ZP=(e=s,t)=>{let r=e,a=null;switch(t.type){case n.ex:r={...e,download_url:t.downloadUrl};break;case n.lA:r={...e,hasBeenEdited:t.hasBeenEdited};break;case n.fz:a=t.video,r={...e,current_user_is_owner:a.current_user_is_owner,cta_approved_at:a.cta?.approved_at,cta_enabled:a.cta?.enabled,cta_text:a.cta?.text,cta_url:a.cta?.url,cta_is_auto:a.cta?.is_auto,cta_mods:a.cta?.mods,visibility:a.visibility};break;case n.Sl:r={...e,chapters:t.chapters};break;case n.P_:r={...e,autoTitleStatus:t.status};break;case n.fs:r={...e,cta_enabled:t.cta.enabled,cta_text:t.cta.text,cta_url:t.cta.url,cta_mods:t.cta.mods,cta_is_auto:t.cta.is_auto};break;case n.Lt:r={...e,cta_text:null,cta_url:null,cta_mods:null,cta_is_auto:!1};break;case n.p_:r={...e,cta_enabled:t.ctaEnabled};break;case n.KP:r={...e,cta_text:t.ctaText};break;case n.z3:r={...e,cta_url:t.ctaUrl};break;case n.uw:r={...e,cta_is_auto:t.ctaIsAuto};break;case n.F_:r={...e,cta_mods:t.mods};break;case n.Fi:r={...e,transcript_details:t.transcriptDetails};break;case n.GE:r={...e,transcript_details:{...e.transcript_details,version:t.version}};break;case n.ir:r={...e,transcript_details:{...e.transcript_details,transcription_status:t.status}};break;case n.B$:r={...e,retranscription_status:t.status};break;case n.Ph:r={...e,fromRecorder:t.fromRecorder};break;case n.Y$:r={...e,expandRightPanel:t.expandRightPanel};break;case n.gB:r={...e,transcriptSearch:{...i,isTranscriptSearchOpen:t.isTranscriptSearchOpen}};break;case n._n:r={...e,transcriptSearch:{...e.transcriptSearch,transcriptSearchPhrase:t.transcriptSearchPhrase}};break;case n.UF:r={...e,transcriptSearch:{...e.transcriptSearch,transcriptSearchInputValue:t.transcriptSearchInputValue}};break;case n.Yv:r={...e,transcriptSearch:{...e.transcriptSearch,transcriptSearchPhraseIndexArray:t.transcriptSearchPhraseIndexArray}};break;case n.AK:r={...e,transcriptSearch:{...e.transcriptSearch,currentSearchIndex:t.currentSearchIndex}};break;case n.iM:r={...e,transcriptPanelMode:t.transcriptPanelMode};break;case n.Rc:r={...e,hasSeenAnonShareGateModal:t.payload};break;case n.ml:r={...e,currentRightPanelTab:t.currentRightPanelTab};break;case n.Rq:r={...e,userClickedNavToggle:!0};break;case n.YF:r={...e,showDefaultSettings:t.showDefaultSettings};break;case n.$A:r={...e},t.autoTitleStatus&&(r.autoTitleStatus=t.autoTitleStatus,r.autoTitle=t.title),t.autoSummaryStatus&&(r.autoSummaryStatus=t.autoSummaryStatus,r.autoSummary=t.summary),t.autoTasksStatus&&(r.autoTasksStatus=t.autoTasksStatus,r.autoTasksCount=t.autoTasksCount),t.autoChaptersStatus&&(r.autoChaptersStatus=t.autoChaptersStatus,r.autoChaptersCount=t.autoChaptersCount);break;default:r=e}return r}},69473:function(e,t,r){"use strict";r.d(t,{G:function(){return h}});var n=r(43053),a=r(21555),i=r(28750),o=r(30746),l=r(79066),s=r(74608),c=r(57256),u=r(85283),d=r(35483);let m={},p=(0,u.Ps)`
    query GetAllUserProperties($userId: ID!) {
  getAllUserProperties(userId: $userId) {
    ... on GetAllUserPropertiesPayload {
      properties {
        ... on PersonProperty {
          name
          value
        }
      }
    }
  }
}
    `;var f=r(73037);let g={},v=(0,u.Ps)`
    mutation ResetFtux($userId: ID!, $ftux: String!) {
  resetFtuxComponent(userId: $userId, ftux: $ftux) {
    ... on resetFtuxComponentPayload {
      success
      ftux
    }
    ... on Error {
      message
    }
  }
}
    `,h=({hasStickyHeader:e=!1})=>{let[t,r]=(0,n.useState)(!1),[u,h]=(0,n.useState)(""),[_,E]=(0,n.useState)(""),y=(0,l.useCurrentUserSelector)(e=>e.id,void 0),[S]=function(e){let t={...g,...e};return f.D(v,t)}({fetchPolicy:"no-cache",onCompleted:({resetFtuxComponent:e})=>{if(e?.__typename==="resetFtuxComponentPayload"){let{success:t,ftux:n}=e;t?(h(`\u{1F680} ${n} FTUX component reset successfully`),b()):h(`\u{1F62D} ${n} FTUX component reset failed`),r(!0)}}}),{data:k,refetch:b,loading:T}=function(e){let t={...m,...e};return d.a(p,t)}({variables:{userId:y??""},onError:e=>{E(`Failed to load user properties, ${e.message}`)}});if(T||!k?.getAllUserProperties||k?.getAllUserProperties?.__typename!=="GetAllUserPropertiesPayload")return null;let w=(k.getAllUserProperties.properties||[]).reduce((e,{name:t,value:r})=>(null!==t&&null!==r&&(e[t]=r),e),{}),C=o.s5.map(e=>({name:e,priority:o.PD[e]?.priority??Number.MAX_VALUE})).sort((e,t)=>e.priority-t.priority);return n.createElement(n.Fragment,null,n.createElement(a.FNi,{isOpen:t,onCloseClick:()=>r(!1)},u),n.createElement(n.Fragment,null,_?n.createElement(s.y,{error:_}):null),n.createElement(a.W20,{marginBottom:"xlarge",position:"relative"},n.createElement(a.aVo,{columns:["auto","3fr","1fr","1fr","1fr","1fr"],gap:"large",variant:"stripe"},n.createElement(a.W20,{...e?{position:"sticky",top:-2}:void 0},n.createElement(a.wc3,{paddingX:"medium",paddingY:"small"},n.createElement(a.ua7,{content:"Reset to default value"},n.createElement(a.xvT,{alignment:"center",fontWeight:"bold"},"Reset")),n.createElement(a.xvT,{fontWeight:"bold"},"Name"),n.createElement(a.xvT,{alignment:"center",fontWeight:"bold"},"Dismissed"),n.createElement(a.xvT,{alignment:"center",fontWeight:"bold"},"Team"),n.createElement(a.xvT,{alignment:"center",fontWeight:"bold"},"Priority"),n.createElement(a.xvT,{alignment:"center",fontWeight:"bold"},"Expiration"))),C.map(({name:e},t)=>{let r=o.PD[e];if(!r)return null;let{priority:l,team:s,expires:u}=r,d=isNaN(u),m="";m=u?d?"Invalid expiry date, please check config":(0,c.formatAdminDate)(u):"N/A";let p=w[e];return n.createElement(a.wc3,{key:`ftux-${t}`,paddingX:"medium",paddingY:"small"},n.createElement(a.zxk,{size:"small",icon:n.createElement(i.z,null),onClick:()=>{S({variables:{userId:y??"",ftux:e}})}}),n.createElement(a.xvT,null,e),n.createElement(a.xvT,{alignment:"center"},(void 0!==p?p:"Not set").toString()),n.createElement(a.xvT,{alignment:"center"},s?.name??""),n.createElement(a.xvT,{alignment:"center"},l),n.createElement(a.xvT,{alignment:"center"},m))}))))}},17737:function(e,t,r){"use strict";r.d(t,{KA:function(){return h},aG:function(){return _}});var n=r(37121),a=r(18710),i=r(85579),o=r(52533),l=r(43053),s=r(14374),c=r(18536),u=r(71907),d=r(93713),m=r(18027),p=r(59252),f=r(14505);let g=({children:e,entityLookupMetadata:t})=>l.createElement(p.e,{client:(0,f.J$)(t)},e),v=(0,l.createContext)({store:null,history:void 0,Sentry:void 0}),h=({entityType:e,entityId:t,children:r})=>{s.initLogger();let p=l.useRef((0,c.S1)()),f=l.useRef((0,i.lX)()),h=[];n.DO&&h.push((0,d.Z)(p.current));let _=(0,u.j)((0,m.W)(),h),E=(0,o.T)(_);(0,l.useEffect)(()=>{E()},[E]),(0,a.jz)();let y={store:_,history:f.current};return l.createElement(v.Provider,{value:y},l.createElement(g,{entityLookupMetadata:e&&void 0!==t?{entityType:e,entityId:t}:void 0},r))};function _(){let{store:e,history:t}=(0,l.useContext)(v);return{store:e,history:t}}},15213:function(e,t,r){"use strict";r.d(t,{$:function(){return a}});var n=r(2581);let a=e=>{let t=document.getElementById("container");if(!t)throw Error("Unable to find #container to render app");(0,n.s)(t).render(e)}},59162:function(e,t,r){"use strict";r.d(t,{q:function(){return i}});var n=r(27468),a=r.n(n);let i=e=>a()(e.filter(e=>null!==e),"name")},43755:function(e,t,r){"use strict";r.d(t,{H:function(){return a}});var n=r(43053);let a=(e,t,r)=>{(0,n.useEffect)(()=>(e?document.title=`${e.trim()} | ${t}`:document.title=r,()=>{document.title=r}),[e,t,r])}},49803:function(e,t,r){"use strict";r.d(t,{t:function(){return ep}});var n=r(60182),a=r(868),i=r(79066),o=r(43053),l=r(21555),s=r(3874),c=r(6621),u=r(58461),d=r(5902),m=r(94713),p=r(74608),f=r(69473),g=r(13292),v=r(7910),h=r(42356),_=r(43442),E=r.n(_),y=r(68213),S=r(74598),k=r(81923),b=r(2191);let T=()=>{let{featureLoadedRef:e}=(0,b.kX)();return o.createElement(l.W20,{refHandler:t=>{e(t)},width:"100%"},o.createElement(h.a,null,e=>o.createElement(E(),{collapsed:2,sortKeys:!0,src:(0,y.o3)(JSON.stringify(e.cache?.data?.data))})))};var w=r(41136),C=r(73671);let I="https://console.statsig.com",P=new Set(Object.values(C.EXPERIMENTS)),x=new Set(Object.values(C.ln)),A=()=>{let{featureLoadedRef:e}=(0,b.kX)(),t=(0,w.v9)(e=>e.feature_flags),r=e=>c.q[e]&&c.q[e]?.statsigLink?c.q[e].statsigLink:P.has(e)?`${I}/experiments/${e}`:x.has(e)?`${I}/gates/${e}`:null,n=Object.values(t).sort((e,t)=>e.key.localeCompare(t.key));return o.createElement(l.W20,{refHandler:t=>{e(t)}},o.createElement(l.aVo,{columns:["1fr","2fr"],gap:"small"},n.map(e=>{let t;"string"==typeof e.value?t=e.value:"boolean"==typeof e.value&&(t=e.value.toString());let n=r(e.key);return o.createElement(l.wc3,{key:e.key,paddingX:"medium",paddingY:"small"},n?o.createElement(l.rUS,{href:n,target:"_blank"},e.key):o.createElement(l.ua7,{content:"Flag is not listed in EXPERIMENT or GATES so link cannot be determined"},o.createElement(l.xvT,null,e.key)),o.createElement(l.xvT,null,t))})))};var D=r(23550),N=r(58237),O=r(48026),R=r(24194),U=r(62989);let L=u.L0.DevToolsApolloCache,F=()=>{let{featureLoadedRef:e}=(0,b.kX)(),t=Object.keys(O.Qi),r=e=>{(0,R.P)({modal:e})},n=e=>{let t=e.toLowerCase().replace(/_/g," ");return t.charAt(0).toUpperCase()+t.slice(1)};return o.createElement(l.W20,{refHandler:t=>{e(t)},marginY:1},o.createElement(l.Pag,{direction:"column",gap:3,alignItems:"stretch"},o.createElement(l.xvT,{size:"body-md"},"Trigger open any modal managed by our"," ",o.createElement("pre",{className:"inline c:orange"},"ModalContainer"),". Modals controlled elsewhere may clash with other modals. Consider moving your modal. Some modals will either fail to load or be incomplete due to missing data."," "),o.createElement(l.aVo,{columns:["auto","1fr","auto"],gap:"small"},t.map((e,t)=>o.createElement(l.wc3,{key:t,paddingX:"medium",paddingY:"small"},o.createElement(l.hU,{altText:`Open ${e}`,icon:o.createElement(N.l,null),onClick:()=>r(e)}),o.createElement(l.xvT,{fontWeight:"bold",size:"body-md"},n(e)),o.createElement(l.xvT,{size:"body-sm",color:"bodyDimmed"},e))))))},V=()=>{let e=(0,D.k6)(),{reportError:t}=(0,b.kX)(),r=()=>{e.go(0)};return o.createElement(p.SV,{feature:L,name:U.j8.ModalDevToolsError,onError:e=>t(L,e),renderError:()=>o.createElement(l.W20,{paddingY:"20vh"},o.createElement(p.B_,{text:"Modal could not be loaded. Some modals may require data you do not have access to.",CTAText:"Refresh page",handleCTAClick:r,showWarningIcon:!0,isInternalError:!0}))},o.createElement(F,null))},M=()=>{let e=!!(0,v.jS)(d.Uu),t=m.V6.test(window.location.href);return e?{bottom:2,left:2}:t?{bottom:10,right:2}:{bottom:2,right:10}},W=[{title:"Apollo Cache",content:o.createElement(()=>o.createElement(S.$,{feature:u.L0.DevToolsApolloCache,errorType:k.s.DEFAULT},o.createElement(T,null)),null)},{title:"Feature Flags",content:o.createElement(()=>o.createElement(S.$,{feature:u.L0.DevToolsFeatureFlags,errorType:k.s.DEFAULT},o.createElement(A,null)),null)},{title:"FTUX",content:o.createElement(f.G,{hasStickyHeader:!0})},{title:"Modals",content:o.createElement(()=>o.createElement(S.$,{feature:u.L0.ShareModalShareTab,errorType:k.s.CUSTOM,customErrorBoundary:o.createElement(V,null)},o.createElement(F,null)),null)}],B=()=>{let[e,t]=(0,o.useState)(!1),[r,n]=(0,o.useState)(!1),[a,i]=(0,o.useState)(W[0]);return e?null:o.createElement(o.Fragment,null,o.createElement(l.W20,{borderSide:"all",backgroundColor:"background",position:"fixed",padding:"small",radius:"175",zIndex:1e5,...M()},o.createElement(l.ggW,null,o.createElement(l.Avr,{onClick:()=>n(!0),size:"small"},"Dev tools"),o.createElement(l.hU,{onClick:()=>t(!0),size:"small",altText:"Close dev tools",icon:o.createElement(s.G,null)}))),o.createElement(l.u_l,{isOpen:r,title:"Loom dev tools",onCloseClick:()=>{i(W[0]),n(!1)},maxHeight:"80vh",maxWidth:"80vw"},o.createElement(l.W20,{marginTop:2},o.createElement(l.mQc,null,W.map((e,t)=>o.createElement(l.OK9,{key:t,isActive:e.title===a.title,onClick:()=>i(e)},e.title)))),o.createElement(l.W20,{borderSide:"all",padding:"medium",width:"100%",overflow:"auto"},a.content)))},$=()=>o.createElement(g.Z,{flag:c.dd,activationValues:[!0]},o.createElement(p.Ho,{feature:u.L0.DevToolsApolloCache},o.createElement(B,null)));var G=r(55062),H=r(17737),z=r(31671),K=r(85455),Z=r(18027),j=r(29009),Y=r(91777);let X=({children:e})=>{let t=(0,w.I0)(),r=(0,Y.A7)(e=>e.availableFtux||null,null);return(0,o.useLayoutEffect)(()=>{r&&t((0,j.Z_)(r))},[r,t]),o.createElement(o.Fragment,null,e)};var Q=r(89536),q=r(62189),J=r(18807),ee=r(84888),et=r(72931),er=r(65655),en=r(72357),ea=r(15878),ei=r(85578),eo=r(14749),el=r(53422);let es="u">typeof window,ec=(e,t,r)=>{if(!es)return[t,()=>{}];let[n,a]=(0,o.useState)(()=>{try{let n=sessionStorage.getItem(e);return"string"!=typeof n?(sessionStorage.setItem(e,r?String(t):JSON.stringify(t)),t):r?n:JSON.parse(n||"null")}catch{return t}});return(0,o.useEffect)(()=>{try{let t=r?String(n):JSON.stringify(n);sessionStorage.setItem(e,t)}catch{}}),[n,a]},eu=()=>{let{showErrorBar:e}=(0,er.gV)(),[t,r]=ec("loom_creator_lite_limit_session_banner_dismissed",void 0),{value:n,loading:a}=(0,en.B)(ei.BR.CREATOR_LITE_MEMBER_LIMIT_GLOBAL_BANNER),i=n||t;return o.useEffect(()=>{a||i||(eo.track(et.cPR),e({actionHref:"https://www.loom.com/connect/creator-lite-limit",actionHrefLabel:"Contact our sales team",bannerId:ea.bV,message:`You have exceeded the ${ea.bB.BUSINESS.CREATOR_LITE_MEMBER_LIMIT} Creator Lite limit for your workspace.`,severity:el.W9.ERROR}))},[i,a,r,e]),null},ed=()=>{let e=(0,ee.hP)(),t=(0,Q.W9)(c.PV),r=e?.type===J.q1,n=(e?.counts?.users?.total_active_creator_lites??0)>=e?.limits?.CREATOR_LITE_MEMBER_LIMIT,a=e?.memberRole===q.Xx;return e&&r&&a&&t&&n?o.createElement(eu,null):null};var em=r(5309);let ep=({children:e,...t})=>{let{store:r}=(0,H.aG)(),l="feature"in t?t.feature:void 0;return(0,a.sf)({feature:l}),o.createElement(w.zt,{store:r||(0,n.xC)({reducer:(0,Z.W)(),middleware:(0,n.Bx)({serializableCheck:!1})})},o.createElement(em.y,null,o.createElement(K.VK,null,o.createElement(z.L,null,o.createElement(ed,null),o.createElement(p.bg,{...t},o.createElement(i.RequireCurrentUserLoaded,null,o.createElement(X,null,o.createElement($,null),o.createElement(G.x,null,e))))))))}},5309:function(e,t,r){"use strict";r.d(t,{a:function(){return p},y:function(){return f}});var n=r(72931),a=r(39014),i=r(71991),o=r(43053),l=r(61683),s=r.n(l),c=r(14374),u=r(58461),d=r(14749);let m=(0,o.createContext)({isSDKSupported:!1}),p=()=>{let e=(0,o.useContext)(m);return e||c.warning("useSDKSupport must be used within a SDKSupportProvider",{feature:u.L0.SDKRecorder}),e},f=({children:e})=>{let t;let[r,l]=(0,o.useState)(!1),[c,u]=(0,o.useState)(),p=window.location.toString();return p.includes("/share")&&(t=p.slice(p.lastIndexOf("-")+1)),(0,a.b)(()=>{let e=!1;return(async()=>{let{supported:r,error:a}=await (0,i.l)();if(!r){let e=new(s())().getResult();d.track(n.xHJ,{videoId:t,browserName:e?.browser?.name,browserVersion:e?.browser?.version,osName:e?.os?.name,osVersion:e?.os?.version,sdkNotSupportedReason:c,userAgent:e?.ua})}e||(l(r),u(a))})(),()=>{e=!0}}),o.createElement(m.Provider,{value:{isSDKSupported:r,sdkNotSupportedReason:c}},e)}},52533:function(e,t,r){"use strict";r.d(t,{T:function(){return C}});var n=r(868),a=r(79066),i=r(59162),o=r(8769),l=r.n(o);let s="educationVerified",c=e=>"UserNotLoggedIn"===e.__typename;var u=r(18568),d=r(27468),m=r.n(d);let p=e=>{let t=(e??[]).filter(e=>null!==e);return m()(t,e=>e.medium)},f=l()(e=>{if(!c(e))return{aa_date_linked:e.aaDateLinked?e.aaDateLinked.toUTCString():void 0,aa_date_mastered:e.aaDateMastered?e.aaDateMastered.toUTCString():void 0,aa_id:e.aaId??void 0,aa_is_mastered:e.aaIsMastered??void 0,account_type:e.accountType,aiAccess:e.aiAccess,availableFtux:e.availableFtux,avatars:e.avatars,basic_video_limit:void 0,capabilities:e.capabilities,checklist:e.checklist,company_name:e.companyName,company_position:e.companyPosition,createdAt:e.createdAt.toUTCString(),dashboard_access:void 0,default_workspace_id:e.defaultWorkspaceId?e.defaultWorkspaceId.toString():null,deletion_pending:e.deletionPending,elevio_hash:e.elevioHash,email:e.email,first_name:e.firstName,has_activated_desktop_app:e.hasActivatedDesktopApp,has_gmail_account:void 0,hasWebPushSubscription:e.hasWebPushSubscription,help_options:e.helpOptions,id:Number(e.id),integration_settings:e.integrationSettings,intercomHash:e.intercomHash,is_primary:void 0,is_sdk_shared_user:e.isSdkSharedUser,isPureTrial:e.memberships?.[0]?.organization.is_pure_trial??!1,last_name:e.lastName,notification_settings:e.notificationSettings,oauth:p(e.oauths),onboarding:e.onboarding,password_is_set:e.passwordIsSet,persona:e.persona,recorder_settings:e.recorderSettings,role:e.role,scopes:e.scopes,seasonalLaunchFtuxProperties:{workspacePlan:e.memberships?.[0]?.organization.type,workspaceRole:e.memberships?.[0]?.member_role,hasAiAddOn:(0,u.Y)(e),isFirstRecording:e.isFirstRecording??!1,isPureTrial:e.memberships?.[0]?.organization.is_pure_trial??!1},status:e.status,tags:{[s]:e.isEducationVerified},terms_accepted:e.termsAccepted,terms_accepted_created_at:e.termsAcceptedCreatedAt,triggers:(0,i.q)(e.triggers??[]),video_settings:e.videoSettings,workspacePlan:e.memberships?.[0]?.organization.type,workspaceRole:e.memberships?.[0]?.member_role}}),g=e=>f(e);var v=r(43053),h=r(41136),_=r(36564),E=r(14374),y=r(18536),S=r(7910),k=r(39808),b=r(58461),T=r(64369),w=r(14749);let C=e=>{let{store:t}=(0,v.useContext)(h.ET)||{};if(!t&&!e)throw Error("useGetUserCreator called outside of react-redux context and no store was provided");let r=e?e.dispatch.bind(e):t.dispatch.bind(t);return(0,v.useCallback)(()=>{try{let e=g((0,a.getCurrentUserFromCache)());if(!e)return;let t={};if((0,S.jT)().fromPublicSharePage&&(t.page={url:null}),y.v8({id:e.id}),!(0,S.U9)()){let r=e.is_sdk_shared_user?null:e.id;(0,n.a$)(w.identify,r,{accountType:e.account_type,company_name:e.company_name,createdAt:e.createdAt,dashboard_access:e.dashboard_access,education_verified:!!(e.tags&&e.tags[s]),email:e.email,firstName:e.first_name,lastName:e.last_name,loom_sign_up_date:e.createdAt,name:(0,k.fR)(e),password_is_set:e.password_is_set,role:e.role,status:e.status},{context:t})}r((0,_.Ge)({user:e}));let{persona:i}=e,{persona_v1:o}=i;r((0,T.WS)({...o}))}catch(e){E.error(e,{message:"Error setting up current user"},{team:b.SZ.CorePlatform})}},[r])}},72357:function(e,t,r){"use strict";r.d(t,{B:function(){return s}});var n=r(79066),a=r(85283),i=r(35483);let o={},l=(0,a.Ps)`
    query GetUserProperty($name: String!) {
  result: getUserProperty(name: $name) {
    ... on PersonProperty {
      value
      name
    }
  }
}
    `,s=(e,t={})=>{let r=(0,n.useIsCurrentUserLoggedIn)(),{onError:a}=t,{loading:s,error:c,data:u}=function(e){let t={...o,...e};return i.a(l,t)}({variables:{name:e},onError:e=>a&&a(e),skip:!r});return{loading:s,error:c,value:u?.result?.__typename==="PersonProperty"?u.result.value:null}}},25300:function(e,t,r){"use strict";r.d(t,{r:function(){return o}});var n=r(57256),a=r(43053),i=r(21555);let o=({type:e,onChange:t,onBlur:r,value:o,hasError:l,disabled:s=!1,idSuffix:c})=>{let{id:u,label:d,placeholder:m}=n.AdminTextInputCopy[e],p=c?`${u}-${c}`:u;return a.createElement(i.WiK,{label:d,labelFor:p},a.createElement(i.oil,{id:p,disabled:s,placeholder:m,value:o??void 0,size:"medium",hasError:l,onChange:t,onBlur:r}))}},57256:function(e,t,r){"use strict";r.d(t,{AdminHeader:function(){return u},AdminHeaderType:function(){return s},AdminTextArea:function(){return d},AdminTextAreaCopy:function(){return F},AdminTextAreaType:function(){return M},AdminTextInput:function(){return m.r},AdminTextInputCopy:function(){return L},AdminTextInputType:function(){return V},BooleanIndicator:function(){return p},UploadCsvButton:function(){return E},VideoGroupingsTable:function(){return U},formatAdminDate:function(){return f},formatAdminTime:function(){return g},useAdminSiteTitle:function(){return k},useQueryParams:function(){return B}});var n,a,i,o=r(43053),l=r(21555),s=((n=s||{}).Page="page",n.Tool="tool",n);let c={page:{htmlTag:"h1",variant:"mainTitle",spacing:"xlarge"},tool:{htmlTag:"h2",variant:"title",spacing:"medium"}},u=({type:e=s.Tool,title:t,description:r=""})=>o.createElement(l.W20,{htmlTag:"header",marginBottom:c[e].spacing,paddingTop:"medium"},o.createElement(l.ggW,{gap:"small",autoFlow:"row"},o.createElement(l.xvT,{variant:c[e].variant,htmlTag:c[e].htmlTag,alignment:"left"},t),r?o.createElement(l.xvT,null,r):null)),d=({type:e=M.Users,onChange:t,value:r,errorMessage:n,disabled:a})=>{let{id:i,label:s,placeholder:c}=F[e];return o.createElement(l.WiK,{label:s,labelFor:i},o.createElement(l.gxH,{id:i,disabled:a,placeholder:c,value:r,size:"medium",error:n,onChange:t}))};var m=r(25300);let p=({condition:e,trueText:t="Yes",falseText:r="No"})=>o.createElement(l.xvT,{isInline:!0},o.createElement("span",{role:"img","aria-label":e?"checkmark":"red x"},e?"✅":"❌")," ",o.createElement("pre",{className:"inline ml:small"},e?t:r)),f=e=>new Date(e).toLocaleString("en-GB",{timeZone:"UTC",day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),g=(e,t=!1)=>{let r=new Date(e).toLocaleString("en-GB",{timeZone:"UTC",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1});return t?r+"."+e.getMilliseconds():r};var v=r(43967),h=r(11433),_=r(54581);let E=(0,o.forwardRef)(({onClick:e,limit:t=null,text:r="Upload CSV"},n)=>{let a=(0,o.useRef)(null),[i,s]=(0,o.useState)(null);return E.displayName="UploadCsvButton",(0,o.useImperativeHandle)(n,()=>({resetUploadState(){s(null),a.current&&(a.current.value="")}})),o.createElement(o.Fragment,null,o.createElement("input",{accept:_.b2,className:"upload-csv-button_uploadInput_3z3",onChange:t=>{let r=t.target.files?.[0];r&&(s(`${r.name}, ${r.size}kb`),e(r))},ref:a,type:"file"}),o.createElement(l.ua7,{content:t&&!i?`Limit ${t}`:i?`${i}`:null},o.createElement(l.zxk,{icon:i?o.createElement(v.U,null):o.createElement(h.T,null),onClick:()=>a?.current?.click()},i?"Uploaded":r)))});var y=r(43755);let S="Loommate Admin Portal",k=e=>{(0,y.H)(e,S,S)};var b=r(81654),T=r.n(b),w=r(28487),C=r.n(w),I=r(52353),P=r(85283),x=r(73037);let A={},D=(0,P.Ps)`
    mutation AdminBulkDeleteGroupingsByPrimaryKey($groupingPrimaryKeys: [GroupingPrimaryKey!]!) {
  adminBulkDeleteGroupingsByPrimaryKey(groupingPrimaryKeys: $groupingPrimaryKeys) {
    ... on AdminBulkDeleteGroupingsByPrimaryKeyPayload {
      success
    }
    ... on GenericError {
      message
    }
    __typename
  }
}
    `,N=[{key:"select",label:"Select",width:"50px"},{key:"groupingId",label:"Grouping Id"},{key:"videoId",label:"Video Id",width:"2fr"},{key:"folder",label:"Folder"},{key:"spaces",label:"Spaces"},{key:"groupingType",label:"Grouping Type"},{key:"createdAt",label:"CreatedAt"},{key:"updatedAt",label:"UpdatedAt"}],O=N.map(e=>e.width||"1fr"),R=()=>o.createElement(l.wc3,{paddingX:"medium",paddingY:"12px"},N.map(e=>o.createElement(l.xvT,{key:e.key,fontWeight:"bold",color:"bodyDimmed"},e.label))),U=({groupings:e})=>{let[t,r]=o.useState(!1),[n,a]=o.useState(""),[i,s]=o.useState({}),[c,{loading:u}]=function(e){let t={...A,...e};return x.D(D,t)}({onCompleted:e=>{e?.adminBulkDeleteGroupingsByPrimaryKey?.__typename==="AdminBulkDeleteGroupingsByPrimaryKeyPayload"&&e?.adminBulkDeleteGroupingsByPrimaryKey?.success&&a("Groupings successfully deleted!"),e?.adminBulkDeleteGroupingsByPrimaryKey?.__typename==="GenericError"&&a(e?.adminBulkDeleteGroupingsByPrimaryKey?.message)},onError:e=>{a(e.message)},refetchQueries:["AdminGetVideoGroupingsByOwner","AdminGetGroupingsByVideoId"]});return e?o.createElement(l.ggW,{gap:"small",autoFlow:"row"},o.createElement(l.zxk,{variant:"danger",onClick:()=>r(!0),style:{width:"fit-content"},isDisabled:T()(i)},"Delete"),o.createElement(l.aVo,{columns:O,gap:"medium",variant:"stripe"},o.createElement(R,null),e.map(e=>{let t=null!==e.type&&I.e.includes(e.type),r=`${e.groupingId}_${e.video.id}`;return o.createElement(l.wc3,{paddingX:"medium",key:r,paddingY:"12px"},o.createElement(l.ua7,{content:`Groupings of type ${e.type} cannot be deleted`,placement:"topCenter",isDisabled:t},o.createElement(l.XZJ,{isDisabled:!t,onChange:t=>{t.target.checked?s({...i,[r]:e}):s(C()(i,[r]))}})),o.createElement(l.xvT,null,e.groupingId),o.createElement(l.xvT,null,o.createElement("pre",null,e.video.id)),o.createElement(l.xvT,null,e?.video.folder?.name),o.createElement(l.xvT,null,e?.video.spaces?.map(e=>o.createElement(o.Fragment,{key:e.id},e.name,o.createElement("br",null)))),o.createElement(l.xvT,null,e.type),o.createElement(l.xvT,null,e.createdAt),o.createElement(l.xvT,null,e.updatedAt))}),o.createElement(l.u_l,{isOpen:t,onCloseClick:()=>{r(!1)},mainButton:o.createElement(l.zxk,{isDisabled:u,hasLoader:u,variant:"record",onClick:async()=>{await c({variables:{groupingPrimaryKeys:Object.values(i).map(e=>({groupingId:e.groupingId,videoId:e.video.id.toString()}))}}),r(!1),s({})}},"Confirm")},"Are you sure you want to permanently delete the following groupings?",Object.values(i).map(e=>{let t=`${e.groupingId}_${e.video.id}`;return o.createElement(l.LZC,{top:"medium",key:t},o.createElement(l.ggW,{gap:"xsmall",autoFlow:"row"},o.createElement("span",null,o.createElement(l.xvT,{fontWeight:"bold",isInline:!0},"Grouping Id:")," ",e.groupingId),o.createElement("span",null,o.createElement(l.xvT,{fontWeight:"bold",isInline:!0},"Video Id:")," ",e.video.id),o.createElement("span",null,o.createElement(l.xvT,{fontWeight:"bold",isInline:!0},"Grouping Type:")," ",e.type)))})),o.createElement(l.FNi,{isOpen:!!n,onCloseClick:()=>a("")},n))):null};r(75135);let L={email:{id:"emailQuery",label:"Email",placeholder:"name@email.com"},user:{id:"userQuery",label:"User ID or email",placeholder:"12345 or name@email.com"},"rewatch-user":{id:"rewatchUserQuery",label:"Designated Admin User ID or email",placeholder:"12345 or name@email.com"},workspace:{id:"workspaceQuery",label:"Workspace ID",placeholder:"6789"}},F={users:{id:"userQueries",label:"User IDs or emails (separated by commas)",placeholder:"123,234,345 or name@email.com,name2@email.com"},"rewatch-urls":{id:"rewatchUrls",label:"S3 URLs (separated by commas)",placeholder:"https://rewatch-exports.s3.abcd.com/123,https://rewatch-exports.s3.abcd.com/456,https://rewatch-exports.s3.abcd.com/789"}};var V=((a=V||{}).User="user",a.Workspace="workspace",a.Email="email",a.RewatchUser="rewatch-user",a),M=((i=M||{}).Users="users",i.RewatchUrls="rewatch-urls",i),W=r(23550);let B=()=>{let{search:e}=(0,W.TH)();return(0,o.useMemo)(()=>new URLSearchParams(e),[e])}},75135:function(){},71991:function(e,t,r){"use strict";r.d(t,{l:function(){return s}});var n=r(14374),a=r(58461),i=r(85845),o=r(20076);let l=()=>(0,o.X)(()=>r.e(5362).then(r.bind(r,75362)).then(e=>e),i.H);async function s(){try{let{isSupported:e}=await l();return e()}catch(e){return n.error(e,void 0,{feature:a.L0.SDKRecorder}),{supported:!1,error:e}}}},28007:function(e,t,r){"use strict";r.d(t,{W6:function(){return i},_R:function(){return l},mx:function(){return s},rP:function(){return o}});var n=r(60182);let a=(0,n.oM)({name:"avatar",initialState:{currently_dragging:null,uploading:!1},reducers:{beginAvatarDrag(e,t){e.currently_dragging=t.payload},finishAvatarDrag(e){e.currently_dragging=null},startAvatarUpload(e){e.uploading=!0},endAvatarUpload(e){e.uploading=!1}}}),{beginAvatarDrag:i,finishAvatarDrag:o,startAvatarUpload:l,endAvatarUpload:s}=a.actions;t.ZP=a.reducer},36564:function(e,t,r){"use strict";r.d(t,{Ge:function(){return d},KS:function(){return u}});var n=r(60182),a=r(7954),i=r.n(a),o=r(91353),l=r(48864);let s={[o.wS]:!1,[o.pF]:!1,[o.C5]:!1,[o.H4]:!1,[o.ev]:!1,[o.js]:!1,[o.mN]:!1,[o.xN]:!1,[o.xB]:!1,[o.m9]:!1,[o.bp]:!1,[o.zL]:!1,[o.WP]:!1,[o.pt]:!1,[o.eF]:!1,[o.cG]:!0,[o.DL]:!1,[o.x1]:!1,[o.gl]:!1,[o.As]:!1,[o.mS]:!1,getStartedChecklistBannerExpanded:!1},c=(0,n.oM)({name:"checklist",initialState:s,reducers:{updateChecklistItem(e,t){return Object.assign({},e,{[t.payload.item]:t.payload.value})},updateChecklist(e,t){let r;return null!=t.payload.user&&(r=t.payload.user.status),Object.assign({},e,i()(t.payload.user.checklist,o.QN),{[o.zL]:null!=r&&r===l.OO})}}}),{updateChecklistItem:u,updateChecklist:d}=c.actions;t.ZP=c.reducer},62259:function(e,t,r){"use strict";r.d(t,{XJ:function(){return i},bl:function(){return o}});var n=r(60182);let a=(0,n.oM)({name:"editor",initialState:{cta_flow:!1},reducers:{startCTAFlow(e){e.cta_flow=!0},endCTAFlow(e){e.cta_flow=!1}}}),{startCTAFlow:i,endCTAFlow:o}=a.actions;t.ZP=a.reducer},49213:function(e,t,r){"use strict";r.d(t,{U:function(){return i}});var n=r(60182);let a=(0,n.oM)({name:"invites",initialState:{inviteSubmitted:!1},reducers:{updateInviteSubmitted(e){e.inviteSubmitted=!0}}}),{updateInviteSubmitted:i}=a.actions;t.Z=a.reducer},96905:function(e,t,r){"use strict";r.d(t,{u:function(){return i}});var n=r(60182);let a=(0,n.oM)({name:"reset_password",initialState:{is_fetching:!1},reducers:{updateResetPasswordIsFetching:(e,t)=>{e.is_fetching=t.payload}}}),{updateResetPasswordIsFetching:i}=a.actions;t.Z=a.reducer},93650:function(e,t,r){"use strict";r.d(t,{D8:function(){return o},kQ:function(){return i}});var n=r(60182);let a=(0,n.oM)({name:"splitScreenTakeovers",initialState:null,reducers:{openSplitScreenTakeover(e,t){return t.payload},closeSplitScreenTakeover(){return null}}}),{openSplitScreenTakeover:i,closeSplitScreenTakeover:o}=a.actions;t.ZP=a.reducer},66009:function(e,t,r){"use strict";r.d(t,{wB:function(){return v},e_:function(){return D},ZP:function(){return W},PK:function(){return O},HQ:function(){return V},qs:function(){return N},NR:function(){return R},g1:function(){return U},ah:function(){return L},_W:function(){return F}});var n=r(60182),a=r(37778),i=r(44314),o=r(50497),l=r(72924),s=r(67184),c=r(14505),u=r(18615),d=r.n(u),m=r(11796),p=r.n(m);let f=(e,t)=>(0,c.J$)().mutate({mutation:d(),variables:{...e,password:t}}),g=(e,t)=>(0,c.J$)().mutate({mutation:p(),variables:{videoId:e,password:t}}),v="correction-popup-anchor",h={correctionsEnabled:!0,editedRowIndex:-1,hoveredRowIndex:-1,isPopupOpen:!1,localCorrections:[],selectedElementSource:null,selectedOccurrenceIndex:-1,textToCorrect:"",transcript:null,transcriptCorrectionMessage:null,transcriptWithLocalCorrections:null},_=(e,t)=>e.element===t.element&&e.monologue===t.monologue,E=(e,t,r,n)=>e.substr(0,t.start+n)+r+e.substr(t.start+n+t.length),y=(e,t,r)=>{let n=[];for(let t=0;t<r;t++)n.push({...e[t]});let a=r+1;t.length>0&&n.push({...e[r],length:t.length});let i=t.length-e[r].length;for(let t=a;t<e.length;t++){let r=e[t];n.push({...r,start:r.start+i})}return n},S=(e,t)=>({phrases:e.phrases.map(e=>{let r=0,n={...e};return e.ranges?.forEach((e,a)=>{let i=t.find(t=>t.sources.some(t=>_(t,e.source)));if(i){let t=i.newValue;n.value=E(n.value,e,t,r),n.ranges=y(n.ranges,t,a),r+=t.length-e.length}}),n}),schemaVersion:e.schemaVersion}),k=(0,n.oM)({name:"transcription",initialState:h,reducers:{pushLocalCorrections(e,t){e.localCorrections.push(t.payload),e.transcriptWithLocalCorrections=S((0,a.Vk)(e.transcript),t.payload)},startLongProcess(e){e.correctionsEnabled=!1},endLongProcess(e){e.correctionsEnabled=!0},updateTranscriptPhrases(e,t){e.transcript=t.payload,e.localCorrections=[],e.transcriptWithLocalCorrections=e.transcript},updateTranscriptCorrectionMessage(e,t){e.transcriptCorrectionMessage=t.payload},openCorrectionPopup(e,t){e.textToCorrect=t.payload.textToCorrect,e.selectedOccurrenceIndex=t.payload.selectedOccurrenceIndex,e.selectedElementSource=t.payload.selectedElementSource,e.editedRowIndex=t.payload.editedRowIndex,e.isPopupOpen=!0},updateSelectedElementSource(e,t){e.selectedElementSource=t.payload.selectedElementSource},toggleCorrectionPopup(e,t){e.isPopupOpen=t.payload},updateHoveredRowIndex(e,t){e.hoveredRowIndex=t.payload},resetTranscription(e){Object.assign(e,h)}}}),b=(e,t)=>t&&e.value.substring(t.start,t.length+t.start),T=(e,t)=>{let r=b(e,t);return t?.type==="punct"&&" "===r},w=(e,t)=>{let r=b(e,t);return t?.type==="punct"&&[".","!","?"].includes(r)},C=(e,t)=>{let r=b(e,t);return t?.type==="punct"&&","===r},I=(e,t,r,n,...a)=>{if(0===a.length)return;let i=a.map(e=>({...e}));e[r]||(e[r]={newValue:r,sources:[]}),e[r].sources.push(...i),t[n]||(t[n]={newValue:n,sources:[]}),t[n].sources.push(...i)},P=(e,t,r)=>{let n={},a={};for(let i of(I(n,a,"",r,...t.sources),e.phrases))for(let e=0;e<Number(i.ranges?.length);e++){let r=i.ranges?.[e];if(t.sources.some(e=>_(e,r?.source))){let t=0===e,r=[],o=[],l=e-1,s=i.ranges[l],c=e+1,u=i.ranges[c],d=w(i,u);for(;s&&(T(i,s)||C(i,s));)T(i,s)?r.unshift(s):o.unshift(s),s=i.ranges[--l];let m=t||w(i,s);for(;!d&&u&&(T(i,u)||C(i,u));)T(i,u)?r.push(u):o.push(u),u=i.ranges[++c];let p=t||d||0===r.length?0:1,f=m||d||0===o.length?0:1,g=r.slice(p),v=o.slice(f);if(p>0&&f>0){let e=o[0].source.element;if(r[0].source.element<e){for(let[t,n]of r.entries())if(n.source.element>e){r.splice(t,1),g=[...r];break}}}if(I(n,a,""," ",...g.map(e=>e.source)),I(n,a,"",",",...v.map(e=>e.source)),m&&u?.type==="text"){let e=b(i,u),t=e.charAt(0).toUpperCase()+e.substring(1);I(n,a,t,e,u.source)}if(m&&d&&u){let e=b(i,u);I(n,a,"",e,u.source)}}}return{corrections:Object.values(n),reverseCorrections:Object.values(a)}},x=(e,t,r)=>""===t.newValue?P(e,t,r):{corrections:[t],reverseCorrections:[{...t,newValue:r}]},A=async(e,t)=>{let{source_url:r,captions_source_url:n}=t;e((0,s.FL)({captionsSourceUrl:n}));let a=await (0,i.Z)(r);if(!a?.ok)throw Error("Failed to fetch transcript json");let o=await a.json();e(F(o))},D=(e,t,r,n)=>async(a,i)=>{let s=i().transcription.transcript,{corrections:c,reverseCorrections:u}=x(s,r,t),d={videoId:e,transcriptCorrections:c};a(k.actions.pushLocalCorrections(d.transcriptCorrections));let m=(await f(d,n))?.data?.updateVideoTranscript;if(m?.message){a(L(m.message.replace(`${o.Rn}: `,""))),a(k.actions.pushLocalCorrections(u));return}await A(a,m),a((0,l.Z_)(m?.version))},N=e=>async(t,r)=>{let n=r().share_video.password||"";t(k.actions.startLongProcess());try{let r=(await g(e,n))?.data?.revertAllTranscriptCorrections;if(r?.message){t(L(r.message.replace(`${o.km}: `,"")));return}await A(t,r),t(L("All changes have been undone")),t((0,l.Z_)(r?.version))}catch(e){throw t(L("Could not undo changes")),e}finally{t(k.actions.endLongProcess())}},{openCorrectionPopup:O,toggleCorrectionPopup:R,updateHoveredRowIndex:U,updateTranscriptCorrectionMessage:L,updateTranscriptPhrases:F,resetTranscription:V,updateSelectedElementSource:M}=k.actions;var W=k.reducer},24194:function(e,t,r){"use strict";function n(e){let t=new URLSearchParams(window.location.search);Object.keys(e).forEach(r=>{t.set(r,e[r])}),window.location.search=t.toString()}r.d(t,{P:function(){return n}})},75114:function(e,t,r){"use strict";r.d(t,{m:function(){return a}});var n,a=((n=a||{}).NOT_STARTED="not-started",n.STARTED="started",n.FINISHED="finished",n)},18615:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CorrectWords"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"transcriptCorrections"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"TranscriptionCorrection"}}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"password"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateVideoTranscript"},arguments:[{kind:"Argument",name:{kind:"Name",value:"videoId"},value:{kind:"Variable",name:{kind:"Name",value:"videoId"}}},{kind:"Argument",name:{kind:"Name",value:"transcriptCorrections"},value:{kind:"Variable",name:{kind:"Name",value:"transcriptCorrections"}}},{kind:"Argument",name:{kind:"Name",value:"password"},value:{kind:"Variable",name:{kind:"Name",value:"password"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"source_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"captions_source_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:326}};t.loc.source={body:"mutation CorrectWords(\n  $videoId: ID!\n  $transcriptCorrections: [TranscriptionCorrection!]!\n  $password: String\n) {\n  updateVideoTranscript(\n    videoId: $videoId\n    transcriptCorrections: $transcriptCorrections\n    password: $password\n  ) {\n    video_id\n    version\n    source_url\n    captions_source_url\n    message\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function n(e,t){for(var r=0;r<e.definitions.length;r++){var n=e.definitions[r];if(n.name&&n.name.value==t)return n}}t.definitions.forEach(function(e){if(e.name){var t=new Set;(function e(t,r){if("FragmentSpread"===t.kind)r.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&r.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,r)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,r)}),t.definitions&&t.definitions.forEach(function(t){e(t,r)})})(e,t),r[e.name.value]=t}}),e.exports=t,e.exports.CorrectWords=function(e,t){var a={kind:e.kind,definitions:[n(e,t)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var i=r[t]||new Set,o=new Set,l=new Set;for(i.forEach(function(e){l.add(e)});l.size>0;){var s=l;l=new Set,s.forEach(function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach(function(e){l.add(e)}))})}return o.forEach(function(t){var r=n(e,t);r&&a.definitions.push(r)}),a}(t,"CorrectWords")},11796:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RevertAllCorrections"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"password"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"revertAllTranscriptCorrections"},arguments:[{kind:"Argument",name:{kind:"Name",value:"videoId"},value:{kind:"Variable",name:{kind:"Name",value:"videoId"}}},{kind:"Argument",name:{kind:"Name",value:"password"},value:{kind:"Variable",name:{kind:"Name",value:"password"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"source_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"captions_source_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:210}};t.loc.source={body:"mutation RevertAllCorrections($videoId: ID!, $password: String) {\n  revertAllTranscriptCorrections(videoId: $videoId, password: $password) {\n    version\n    source_url\n    captions_source_url\n    message\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function n(e,t){for(var r=0;r<e.definitions.length;r++){var n=e.definitions[r];if(n.name&&n.name.value==t)return n}}t.definitions.forEach(function(e){if(e.name){var t=new Set;(function e(t,r){if("FragmentSpread"===t.kind)r.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&r.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,r)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,r)}),t.definitions&&t.definitions.forEach(function(t){e(t,r)})})(e,t),r[e.name.value]=t}}),e.exports=t,e.exports.RevertAllCorrections=function(e,t){var a={kind:e.kind,definitions:[n(e,t)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var i=r[t]||new Set,o=new Set,l=new Set;for(i.forEach(function(e){l.add(e)});l.size>0;){var s=l;l=new Set,s.forEach(function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach(function(e){l.add(e)}))})}return o.forEach(function(t){var r=n(e,t);r&&a.definitions.push(r)}),a}(t,"RevertAllCorrections")}}]);
//# sourceMappingURL=https://www.loom.com/admin/sourcemaps/js/2792-71bcc0de068ed6f46fc5.js.map